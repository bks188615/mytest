<!--<html><head>    <title>拖动行测试</title>         <script language="javascript">        var beginMoving = false;        function MouseDownToMove(obj) {            obj.style.zIndex = 1;            obj.mouseDownY = event.clientY;            obj.mouseDownX = event.clientX;            beginMoving = true;            obj.setCapture();        }        function MouseMoveToMove(obj) {            if (!beginMoving) return false;            obj.style.top = (event.clientY - obj.mouseDownY);            obj.style.left = (event.clientX - obj.mouseDownX);        }        function MouseUpToMove(obj) {            if (!beginMoving) return false;            obj.releaseCapture();            obj.style.top = 0;            obj.style.left = 0;            obj.style.zIndex = 0;            beginMoving = false;            var tempTop = event.clientY - obj.mouseDownY;            var tempRowIndex = (tempTop - tempTop % 25) / 25;            if (tempRowIndex + obj.rowIndex < 0)tempRowIndex = -1;            else tempRowIndex = tempRowIndex + obj.rowIndex;            if (tempRowIndex >= obj.parentElement.rows.length - 1) tempRowIndex = obj.parentElement.rows.length - 1;            obj.parentElement.moveRow(obj.rowIndex, tempRowIndex);        }    </script></head><body><table id="filelistTab" cellspacing="0" cellpadding="2" border=1>    <tr>        <td class="gridtitle" style="width: 40px"> 列一</td>        <td class="gridtitle" style="width: 100px"> 列二</td>        <td class="gridtitle" style="width: 110px"> 列三</td>    </tr>    <tr id="1" title="拖动行可以进行排序" style="cursor:move;position:relative;" onmousedown='MouseDownToMove(this)'        onmousemove='MouseMoveToMove(this)' onmouseup='MouseUpToMove(this);'>        <td class="gridtitle"><input class="text" id="group1" style="width: 30px" type="text" readonly value="1"/> </td>        <td class="gridtitle">            11111111111111111111        </td>        <td class="gridtitle"><input class="text" id="fn1" readOnlytype="text" style="width:100px" value="11111111111111111111"/></td>    </tr>    <tr id="2" title="拖动行可以进行排序" style="cursor:move;position:relative;" onmousedown='MouseDownToMove(this)'        onmousemove='MouseMoveToMove(this)' onmouseup='MouseUpToMove(this);'>        <td class="gridtitle"><input class="text" id="group2" style="width:30px" type="text" readonlyvalue="2"/></td>        <td class="gridtitle">            222222222222222222222        </td>        <td class="gridtitle"><input class="text" id="fn2" readOnly type="text" style="width:100px" value="22222222222222222222222"/></td>    </tr>    <tr id="3" title="拖动行可以进行排序" style="cursor:move;position:relative;" onmousedown='MouseDownToMove(this)'        onmousemove='MouseMoveToMove(this)' onmouseup='MouseUpToMove(this);'>        <td class="gridtitle"><input class="text" id="group3" style="width: 30px" type="text" readonly                                     value="3"/></td>        <td class="gridtitle">            3333333333333333333333        </td>        <td class="gridtitle"><input class="text" id="fn3" readOnly type="text" style="width:100px"                                     value="333333333333333"/></td>    </tr>    <tr id="4" title="拖动行可以进行排序" style="cursor:move;position:relative;" onmousedown='MouseDownToMove(this)'        onmousemove='MouseMoveToMove(this)' onmouseup='MouseUpToMove(this);'>        <td class="gridtitle"><input class="text" id="group4" style="width:30px" type="text" readonly value="4"/></td>        <td class="gridtitle">            444444444444444444444        </td>        <td class="gridtitle"><input class="text" id="fn4" readOnly type="text" style="width:100px"                                     value="4444444444444444444444444444"/></td>    </tr>    <tr id="5" title="拖动行可以进行排序" style="cursor:move;position:relative;" onmousedown='MouseDownToMove(this)'        onmousemove='MouseMoveToMove(this)' onmouseup='MouseUpToMove(this);'>        <td class="gridtitle"><input class="text" id="group5" style="width:30px" type="text" readonly value="5"/></td>        <td class="gridtitle">            55555555555555555555555        </td>        <td class="gridtitle"><input class="text" id="fn5" readOnly type="text" style="width:100px"                                     value="555555555555555555555"/></td>    </tr>    <tr id="6" title="拖动行可以进行排序" style="cursor:move;position:relative;" onmousedown='MouseDownToMove(this)'        onmousemove='MouseMoveToMove(this)' onmouseup='MouseUpToMove(this);'>        <td class="gridtitle"><input class="text" id="group6" style="width:30px" type="text" readonlyvalue="6"/></td>        <td class="gridtitle">            6666666666666666666666666        </td>        <td class="gridtitle"><input class="text" id="fn6" readOnly type="text" style="width:100px"                                     value="666666666666666666666"/></td>    </tr></table></body></html>--><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>    <title>JavaScript表格拖动排序</title>    <script src="js/jquery.js" type="text/javascript"></script>    <script src="js/tablednd.js" type="text/javascript"></script>    <script type="text/javascript">        $(document).ready(function() {            $("#table").tableDnD({                //当拖动排序完成后                onDrop: function() {                    //获取id为table的元素                    var table = document.getElementById("table");                    //获取table元素所包含的tr元素集合                    var tr = table.getElementsByTagName("tr");                    //遍历所有的tr                    for (var i = 0; i < tr.length; i++) {                        //获取拖动排序结束后新表格中，row id的结果                        var rowid = tr[i].getAttribute("id");                        alert("排序完成后表格的第 " + (i+1) + " 行id为 : " + rowid);                    }                }            });        });    </script></head><body><br/><div style=" margin:100px;">    <table id="table" width="600" border="0">        <tr id="row_1"  style="width:600px; height:20px; background-color:Olive;">            <td style="">1</td>            <td>parentElement</td>            <td>moveRow 1</td>            <td>parentElement</td>        </tr>        <tr id="row_2"  style=" width:600px;height:20px; background-color:Green;">            <td style=" ">2</td>            <td>parentElement</td>            <td>moveRow 2</td>            <td>parentElement</td>        </tr>        <tr id="row_3"  style="width:600px; height:20px; background-color:Gray;">            <td style=" ">3</td>            <td>parentElement</td>            <td>moveRow 3</td>            <td>parentElement</td>        </tr>        <tr id="row_4"  style=" width:600px; height:20px;background-color:Red;">            <td style=" ">4</td>            <td>parentElement</td>            <td>moveRow 4</td>            <td>parentElement</td>        </tr>        <tr id="row_5"  style="width:600px;  height:20px;background-color:#ccc;">            <td style="">5</td>            <td>parentElement</td>            <td>moveRow 5</td>            <td>parentElement</td>        </tr>    </table></div></body></html>